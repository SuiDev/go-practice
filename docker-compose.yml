version: "3"
services: 
  goapp:
    build:
      context: .
      dockerfile: ./build/Dockerfile
    tty: true
    volumes:
      - ./todo_app:/go/src/app
  mysql:
    build: ./mysql/
    volumes:
        # 初期データを投入するSQLが格納されているdir
        # - ./mysql/init:/docker-entrypoint-initdb.d
        # 永続化するときにマウントするdir
        - ./mysql/data:/var/lib/mysql
    environment: 
        - MYSQL_ROOT_PASSWORD=mysql
    ports:
        - "3306:3306"
